"""
–ö–†–û–ö 5: –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é

–û–±—Ä–æ–±–ª—è—î:
- Reply –∫–Ω–æ–ø–∫–∏: –ö–∞—Ç–∞–ª–æ–≥, –ö–æ—à–∏–∫, –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è, –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- Inline –∫–Ω–æ–ø–∫–∏: info_about, info_help
"""

from aiogram import Router, F
from aiogram.types import Message, CallbackQuery

from bot.keyboards import get_info_keyboard
from bot.logger import logger

# –°—Ç–≤–æ—Ä—é—î–º–æ Router –¥–ª—è –º–µ–Ω—é
router = Router(name="menu")


# ========================================
# –û–ë–†–û–ë–ù–ò–ö–ò REPLY –ö–ù–û–ü–û–ö
# ========================================
# –ü—Ä–∏–º—ñ—Ç–∫–∞: –û–±—Ä–æ–±–Ω–∏–∫ "üì¶ –ö–∞—Ç–∞–ª–æ–≥" –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ start.py
# (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ–∞–ª—å–Ω—É –ë–î —á–µ—Ä–µ–∑ core.database.queries)

@router.message(F.text == "üõí –ö–æ—à–∏–∫")
async def menu_cart(message: Message):
    """–û–±—Ä–æ–±–Ω–∏–∫ –∫–Ω–æ–ø–∫–∏ '–ö–æ—à–∏–∫'"""
    logger.info(f"–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á {message.from_user.id} –≤—ñ–¥–∫—Ä–∏–≤ –∫–æ—à–∏–∫")
    await message.answer(
        "üõí –í–∞—à –∫–æ—à–∏–∫\n\n"
        "–ö–æ—à–∏–∫ –ø–æ–∫–∏ —â–æ –ø–æ—Ä–æ–∂–Ω—ñ–π.\n"
        "(–†–µ–∞–ª—ñ–∑—É—î–º–æ –≤ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∫—Ä–æ–∫–∞—Ö)"
    )


@router.message(F.text == "‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è")
async def menu_info(message: Message):
    """–û–±—Ä–æ–±–Ω–∏–∫ –∫–Ω–æ–ø–∫–∏ '–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è' - –ø–æ–∫–∞–∑—É—î inline –∫–Ω–æ–ø–∫–∏"""
    logger.info(f"–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á {message.from_user.id} –∑–∞–ø—Ä–æ—Å–∏–≤ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é")
    await message.answer(
        "‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –±–æ—Ç–∞\n\n"
        "–û–±–µ—Ä—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª:",
        reply_markup=get_info_keyboard()
    )


@router.message(F.text == "‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è")
async def menu_settings(message: Message):
    """–û–±—Ä–æ–±–Ω–∏–∫ –∫–Ω–æ–ø–∫–∏ '–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è'"""
    logger.info(f"–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á {message.from_user.id} –≤—ñ–¥–∫—Ä–∏–≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è")
    await message.answer(
        "‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è\n\n"
        "–¢—É—Ç –±—É–¥—É—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ–≤–∏, —Å–ø–æ–≤—ñ—â–µ–Ω—å —Ç–æ—â–æ.\n"
        "(–†–µ–∞–ª—ñ–∑—É—î–º–æ –≤ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∫—Ä–æ–∫–∞—Ö)"
    )


# ========================================
# –û–ë–†–û–ë–ù–ò–ö–ò INLINE –ö–ù–û–ü–û–ö (CALLBACK)
# ========================================

@router.callback_query(F.data == "info_about")
async def callback_info_about(callback: CallbackQuery):
    """–û–±—Ä–æ–±–Ω–∏–∫ inline –∫–Ω–æ–ø–∫–∏ '–ü—Ä–æ –±–æ—Ç–∞'"""
    logger.info(f"–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á {callback.from_user.id} –Ω–∞—Ç–∏—Å–Ω—É–≤ '–ü—Ä–æ –±–æ—Ç–∞'")
    
    await callback.message.edit_text(
        "üìñ –ü—Ä–æ –±–æ—Ç–∞\n\n"
        "–¶–µ –Ω–∞–≤—á–∞–ª—å–Ω–∏–π –±–æ—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π aiogram 3.x\n\n"
        "–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:\n"
        "‚úÖ –ö—Ä–æ–∫ 1: –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –±–æ—Ç\n"
        "‚úÖ –ö—Ä–æ–∫ 2: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (.env)\n"
        "‚úÖ –ö—Ä–æ–∫ 3: –õ–æ–≥—É–≤–∞–Ω–Ω—è\n"
        "‚úÖ –ö—Ä–æ–∫ 4: –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (SQLAlchemy)\n"
        "‚úÖ –ö—Ä–æ–∫ 5: –ú–µ–Ω—é —Ç–∞ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏\n\n"
        "–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏: –ö–∞—Ç–∞–ª–æ–≥, –ö–æ—à–∏–∫, AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç",
        reply_markup=get_info_keyboard()
    )
    
    # –í–ê–ñ–õ–ò–í–û: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î–º–æ callback —â–æ–± –ø—Ä–∏–±—Ä–∞—Ç–∏ "–≥–æ–¥–∏–Ω–Ω–∏–∫"
    await callback.answer()


@router.callback_query(F.data == "info_help")
async def callback_info_help(callback: CallbackQuery):
    """–û–±—Ä–æ–±–Ω–∏–∫ inline –∫–Ω–æ–ø–∫–∏ '–î–æ–ø–æ–º–æ–≥–∞'"""
    logger.info(f"–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á {callback.from_user.id} –Ω–∞—Ç–∏—Å–Ω—É–≤ '–î–æ–ø–æ–º–æ–≥–∞'")
    
    await callback.message.edit_text(
        "‚ùì –î–æ–ø–æ–º–æ–≥–∞\n\n"
        "–Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å –±–æ—Ç–æ–º:\n\n"
        "1Ô∏è‚É£ /start - –ü–æ–∫–∞–∑–∞—Ç–∏ –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é\n"
        "2Ô∏è‚É£ üì¶ –ö–∞—Ç–∞–ª–æ–≥ - –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ç–æ–≤–∞—Ä–∏\n"
        "3Ô∏è‚É£ üõí –ö–æ—à–∏–∫ - –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è\n"
        "4Ô∏è‚É£ ‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è - –ü—Ä–æ –±–æ—Ç–∞ —Ç–∞ –¥–æ–ø–æ–º–æ–≥–∞\n"
        "5Ô∏è‚É£ ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞\n\n"
        "–í–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è? –ü–∏—à—ñ—Ç—å –ø—ñ–¥—Ç—Ä–∏–º—Ü—ñ!",
        reply_markup=get_info_keyboard()
    )
    
    await callback.answer()
